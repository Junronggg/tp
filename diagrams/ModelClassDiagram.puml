@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model as ModelPackage <<Rectangle>>{
Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nModel" as Model
Class AddressBook
Class ModelManager
Class UserPrefs

Class UniquePersonList
Class UniqueConsultationList
Class Consultation
Class Group
Class GroupId
Class Person
Class Email
Class Name
Class Phone
Class Nusnetid
Class Telegram
Class HomeworkTracker
Class AttendanceSheet

Class I #FFFFFF
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyAddressBook
ModelManager -left-> "1" AddressBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

' AddressBook contents
AddressBook *--> "1" UniquePersonList
AddressBook *--> "1" UniqueConsultationList
UniquePersonList --> "~* all" Person
UniqueConsultationList --> "~* all" Consultation

' Person contents
Person *--> Name
Person *--> Phone
Person *--> Email
Person *--> Nusnetid
Person *--> Telegram
Person *--> HomeworkTracker
Person *--> AttendanceSheet
Person *--> GroupId

' Groups are stored in ModelManager
ModelManager *--> "~* groups" Group
Group *--> GroupId
Group *--> "students" UniquePersonList

' Hidden aligners for layout consistency
Person -[hidden]up--> I
UniquePersonList -[hidden]right-> I

Name -[hidden]right-> Phone
Phone -[hidden]right-> Email
Email -[hidden]right-> Telegram
Telegram -[hidden]right-> Nusnetid

' filtered person view in model manager
ModelManager --> "~* filtered" Person
@enduml
